<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Building Better Scientific Software - Intro</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2>Version Control</h2>

					<h3 class="fragment">What for?</h3>
					<ul>
					  <li class="fragment">Back up changing files</li>
					  <li class="fragment">Store and access an annotated history</li>
					  <li class="fragment">Manage merging of changes between different change sets</li>
					</ul>
				</section>

				<section>
					<section>
						<h2>Why important?</h2>

						<a href="http://phdcomics.com/comics/archive.php?comicid=1323" class="image">
							<img class="fragment" src="http://www.phdcomics.com/comics/archive/phd052810s.gif" height="450" alt="Comic on file versions from PhD Comics http://phdcomics.com/comics/archive.php?comicid=1323">
						</a>

						<p class="fragment"><small><a href="http://phdcomics.com/comics/archive.php?comicid=1323">Image credit: Jorge Cham, PhD Comics</a></small></p>
					</section>

					<section>
						<h2>Saving copies</h2>
						<p class="fragment"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code.py</code></p>
						<p class="fragment"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code-2.py</code></p>
						<p class="fragment"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code-fix.py</code></p>
						<p class="fragment"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code-final.py</code></p>
						<p class="fragment"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code-final-4apr.py</code></p>
					</section>

					<section>
						<h2>Git commits</h2>
						<p class="fragment current-visible"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code.py</code></p>
						<p class="fragment current-visible"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code.py</code></p>
						<p class="fragment current-visible"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code.py</code></p>
						<p class="fragment current-visible"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code.py</code></p>
						<p class="fragment"><img src="./images/code-file.png" height="50" style="vertical-align:middle"> <code>important_code.py</code></p>
					</section>
				</section>

				<section data-markdown>
					<textarea data-template>
						## Types of Version Control

						<p class="fragment">Centralized:
							<ul>
							  <li class="fragment">Concurrent Version System (cvs)</li>
							  <li class="fragment">Subversion (svn)</li>
							  <li class="fragment">Perforce (p4)</li>
							</ul>
						</p>

						<p class="fragment">Distributed:
							<ul>
							  <li class="fragment">Decentralized CVS (dcvs)</li>
							  <li class="fragment">mercurial (hg)</li>
							  <li class="fragment">bazaar (bzr)</li>
							  <li class="fragment"><b style="color:blue">Git (git)</b></li>
							</ul>
						</p>
					</textarea>
				</section>

				<section>
					<h2>Git</h2>

					<div class="fragment">
						<img src="./images/giant-swiss-army-knife.jpg" height="350">
						<blockquote cite="http://ixd.ucsd.edu/home/f16/index.php">
							Git is a knife whose handle is also a knife. â€“ <a href="http://ixd.ucsd.edu/home/f16/index.php">Philip Guo</a>
						</blockquote>
					</div>
				</section>

				<section>
					<a href="https://xkcd.com/1597/" class="image">
						<img src="https://imgs.xkcd.com/comics/git.png" height="500" alt="If that doesn't fix it, git.txt contains the phone number of a friend of mine who understands git. Just wait through a few minutes of 'It's really pretty simple, just think of branches as...' and eventually you'll learn the commands that will fix everything.">
					</a>

					<p><small><a href="https://xkcd.com/1597/">Image credit: xkcd</a></small></p>
				</section>

				<section>
				<section>
					<h2>Getting Started with Git</h2>
					<br/>
					<br/>
					<pre><code data-trim class="bash">
						$ git --help

						$ git config --global user.name "Kyle Niemeyer"
						$ git config --global user.email "kyle.niemeyer@oregonstate.edu"
						$ git config --global core.editor "vim"
					</code></pre>
				</section>

				<section>
					<pre><code data-trim class="bash">
						~ $ mkdir analysis_code
						~ $ cd analysis_code

						~/analysis_code $ git init
						Initialized empty Git repository in ~/analysis_code/.git/
					</code></pre>
				</section>

				<section>
					<pre><code data-trim class="bash">
						~/analysis_code $ ls
						~/analysis_code $ ls -A
						.git

						~/analysis_code $ cd .git && ls -A
						HEAD    config    description    hooks    index    info    logs    objects    packed-refs    refs
					</code></pre>
					<br/>
					<br/>
					<p class="fragment">Try this yourself.</p>
				</section>

				<section>
					<h2>Adding files</h2>
					<br/>

					<pre><code data-trim class="fragment bash">
						~/analysis_code $ touch README.md
					</code></pre>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git add README.md
					</code></pre>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git status
					</code></pre>
					<br/>
					<br/>
					<p class="fragment">Try this yourself.</p>
				</section>

				<section>
					<h2>Committing changes</h2>

					<p class="fragment">Snapshot of repository = <b>revision</b></p>
					<br/>
					<p class="fragment">Committing a revision:
						<ul>
						  <li class="fragment">Saves current state with a unique ID (hash)</li>
						  <li class="fragment">Names you as author</li>
						  <li class="fragment">Allows you to add a message</li>
						</ul>

					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git commit
					</code></pre>
					<p class="fragment">Try this yourself.</p>
				</section>

				<section>
					<h2>Options to save time:</h2>
					<br/>
					<br/>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git commit -m "This is my message"
					</code></pre>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git commit -am "This is my message
										  committing all changes"
					</code></pre>
				</section>

				<section>
					<h2>Commit messages:</h2>
					<br/>
					<p class="fragment">Bad commit message:</p>
					<pre><code data-trim class="fragment bash">
						Fixed bug
					</code></pre>
					<p class="fragment">Good commit message:</p>
					<pre><code data-trim class="fragment bash">
						Fixed bug in mass calculation

						Due to incorrect density value, mass was being calculated
						orders of magnitude larger than it should. The correct value
						of density fixed this problem.
					</code></pre>
				</section>

				<section>
					<a href="https://xkcd.com/1296/" class="image">
						<img src="https://imgs.xkcd.com/comics/git_commit.png" height="400" alt="Merge branch 'asdfasjkfdlas/alkdjf' into sdkjfls-final">
					</a>

					<p><small><a href="https://xkcd.com/1296/">Image credit: xkcd</a></small></p>
				</section>

				<section>
					<h2>Viewing the history and differences</h2>
					<br/><br/>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git log
					</code></pre>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git diff
					</code></pre>
				</section>

				<section>
					<h2>Undoing work</h2>
					<br/>
					<p class="fragment">Un-add a file:</p>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git reset new-file.txt
					</code></pre>
					<p class="fragment">Reset repository to previous commit:</p>
					<pre><code data-trim data-noescape class="fragment bash">
						~/analysis_code $ git reset [mode] [commit]
					</code></pre>
					<p class="fragment">Remove uncommitted changes:</p>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git checkout -- README.md
					</code></pre>
				</section>

				<section>
					<h2>Branches</h2>
					<br/>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git branch
						* master

						~/analysis_code $ git branch experimental
						~/analysis_code $ git branch
						  experimental
						* master

						~/analysis_code $ git branch new
						~/analysis_code $ git branch -d new

						~/analysis_code $ git checkout experimental
						~/analysis_code $ git branch
						* experimental
						  master
					</code></pre>
				</section>

				<section>
					<h2>Merging Branches</h2>
					<br/><br/>
					<pre><code data-trim class="fragment bash">
						~/analysis_code $ git checkout master
						~/analysis_code $ git merge experimental
						~/analysis_code $ git log
					</code></pre>
				</section>
				</section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
